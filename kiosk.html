<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="kiosk.css">
</head>
<body>
    <table>
        <tr>
            <td colspan="4"><h1>MENU</h1></td>
        </tr>
        <tr align="center">
            <td><img src="aaice.png" class="menuimg" id="aaimg"></td>
            <td align="left" class="option">
                <input type="checkbox" id="aa_shot" onclick="aa_update('aa_shot')">샷추가<br>
                <input type="checkbox" id="aa_decaf" onclick="aa_update('aa_decaf')">디카페인<br>
                <input type="checkbox" id="aa_tumble" onclick="aa_update('aa_tumble')">텀블러<br>
                <input type="checkbox" id="aa_syrup" onclick="aa_update('aa_syrup')">시럽<br>
            </td>
        </tr>
        <tr>
            <td colspan="2" class="menuName"><input type="text" value="아메리카노(ICE)" id="aamenu"></td>
        </tr>
        <tr>
            <td colspan="2" class="menuPrice"><input type="text" value="5300" id="aaprice">won</td>
        </tr>
        <tr>
            <td colspan="2"><img src="aaice_ex.png" class="menuex" id="aaex" value="ice"></td>
        </tr>
        <tr>
            <td colspan="2"><input type="radio" name="aa_type" checked="checked" value="ice" onclick="aaswimg('ice')">ICE
                <input type="radio" name="aa_type" value="hot" onclick="aaswimg('hot')">HOT</td>
        </tr>
        <tr>
            <td colspan="2">
                <input type="radio" name="aa_size" checked="checked" value="Tall" onclick="aa_size('aa_tall')">Tall
                <input type="radio" name="aa_size" value="Grande" onclick="aa_size('aa_grande')">Grande
                <input type="radio" name="aa_size" value="Venti" onclick="aa_size('aa_venti')">Venti
            </td> 
        </tr>       

        <script>
            let previousSize = null
            function aa_size(aa_sz) {
                sz = aa_sz
                baseCash = Number(document.getElementById("aaprice").value)
                addPrice = 0;

                if (previousSize === 'aa_grande') {
                    baseCash -= 500;
                } else if (previousSize === 'aa_venti') {
                    baseCash -= 1000;
                }
                if (aa_sz === 'aa_grande') {
                    addPrice = 500;
                } else if (aa_sz === 'aa_venti') {
                    addPrice = 1000;
                }

                document.getElementById("aaprice").value = baseCash + addPrice
                previousSize = aa_sz
            }

            function aa_update(aa_chk) {
                chk = aa_chk
                baseCash = Number(document.getElementById("aaprice").value)
                addPrice = 0

                if(chk == 'aa_shot') {
                    if(document.getElementById("aa_shot").checked) addPrice += 500
                    else if(!document.getElementById("aa_shot").checked) addPrice -= 500
                }
                else if(chk == 'aa_decaf') {
                    if(document.getElementById("aa_decaf").checked) addPrice += 1000
                    else if(!document.getElementById("aa_decaf").checked) addPrice -= 1000
                }
                else if(chk == 'aa_tumble') {
                    if(document.getElementById("aa_tumble").checked) addPrice -= 300
                    else if(!document.getElementById("aa_tumble").checked) addPrice += 300
                }
                else if(chk == 'aa_syrup') {
                    if(document.getElementById("aa_syrup").checked) addPrice += 300
                    else if(!document.getElementById("aa_syrup").checked) addPrice -= 300
                }

                document.getElementById("aaprice").value = baseCash + addPrice

            }

            function aaswimg(aa_type) {
                var type = aa_type
                money = Number(document.getElementById("aaprice").value)

                if(type == "ice") {
                    document.getElementById("aaimg").src="aaice.png"
                    document.getElementById("aamenu").value="아메리카노(ICE)"
                    document.getElementById("aaprice").value= money += 500
                    document.getElementById("aaex").src="aaice_ex.png"
                }
                else if(type == "hot") {
                    document.getElementById("aaimg").src="aahot.png"
                    document.getElementById("aamenu").value="아메리카노(HOT)"
                    document.getElementById("aaprice").value= money -= 500
                    document.getElementById("aaex").src="aahot_ex.png"
                }

            }
        </script>
    </table>
    
</body>
</html>